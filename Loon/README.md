# Loon 配置和使用指南 🌍

## 使用方式 🚀

1. 在 `Configs/` 中选择配置模板（如 `Loon.conf`）。
2. 导入 Loon 配置。
3. 按配置文件内注释替换订阅占位符（如有）。
4. 根据需求启用或引用 `Rules/` 中的规则文件。
5. 导入后先验证基础分流，再调整策略组与插件。

---

## Configs 与 Rules 的分工 🗂️

### Configs/ 🛠️

用于存放完整配置模板，通常包含以下部分：

- **[General]**：全局设置
- **[Remote Proxy]**：远程代理设置
- **[Proxy Group]**：代理分组设置
- **[Remote Filter]**：按节点名称筛选地区节点（HK / TW / JP / US / SG 等）🌏
- **[Rule] / [Remote Rule]**：本地规则与远程规则
- **[Plugin]** / [MITM]（按需）🔌

适合直接导入并作为主配置使用。

### Rules/ 📑

用于存放可复用规则文件，便于在模板中统一引用和维护。

---

## Loon 模板的关键结构 🗝️

- **[Remote Proxy]**：订阅入口（远程节点来源）🔗
- **[Proxy Group]**：策略组（总出口 / 业务组 / 地区组）🔄
- **[Remote Filter]**：按节点名称筛选地区节点（HK / TW / JP / US / SG）🌏
- **[Rule]**：本地规则，优先级较高，适合放：
  - 局域网保险 🏠
  - 私网段直连 🔌
  - 自定义强制分流 ⚡
- **[Remote Rule]**：远程规则来源，包含：
  - 广告拦截 🚫
  - 国内直连 🏠
  - 常用 App 分流 📱
- **[Plugin]**：插件区（按需启用）。建议逐个启用，便于排查问题 ⚙️

---

## 常见需要替换 / 检查的项 🔍

**必改项（如模板使用占位符）**：

- 主订阅链接（如 `__LOON_MAIN_SUB_URL__`）🔗
- 备用订阅链接（如 `__LOON_SPARE_SUB_URL__`，可选）🔗

**可选调整**：

- `internet-test-url` 🌐
- `proxy-test-url` 🕹️
- `Remote Filter` 中各地区 `FilterKey` 🗺️
- 插件启用状态（`enabled=true/false`）⚡

---

## 配置与规则顺序的调整 ⚙️

1. **优先确认 `Remote Filter` 是否匹配** 🔧：  
   如果 HK / JP / US 等分组为空，通常是节点命名与 `FilterKey` 正则不匹配。请按你的节点命名习惯修改对应的 `NameRegex`。

2. **插件不要一次启用太多** ⚠️：  
   - 先确认基础分流可用 ✅
   - 再逐个启用插件 🔌
   - 出现问题时先排除最近新增的插件 🚫

---

## Rule 与 Remote Rule 的区别 ⚖️

- **[Rule]**（本地规则）：  
  优先级较高，适合放你的强制分流与局域网保险规则。

- **[Remote Rule]**（远程规则）：  
  主要分流规则来源，通常包含：
  - 广告拦截 🚫
  - 国内直连 🏠
  - 常用 App 分流 📱  
  建议优先在这里维护通用分流逻辑。

---

## 结论 💡

以上是 Loon 配置的使用建议和说明。选择合适的配置模板，调整规则文件，并进行逐步测试。在修改时，请注意规则顺序和插件的启用情况。
