# Surge 配置和使用指南 🌍

## 使用方式 🚀

1. 在 `Configs/` 中选择配置模板（如 `Surge.conf`）。
2. 导入 Surge 配置。
3. 按配置文件内注释替换订阅占位符（如有）。
4. 根据需求启用或引用 `Rules/` 中的规则文件。
5. 导入后先做基础连通性测试，再调整策略组。

---

## Configs 与 Rules 的分工 🗂️

### Configs/ 🛠️

用于存放完整配置模板，通常包含以下部分：

- **[General]**：全局设置
- **[Proxy Group]**：代理分组设置
- **[Rule]**：规则设置
- **[Host] / [Header Rewrite] / [MITM]**（按需）

适合直接导入并作为主配置使用。

### Rules/ 📑

用于存放可复用的规则文件，按主题拆分，便于引用和维护：

- 广告拦截 🚫
- 社交媒体 📱
- 流媒体 📺
- 自定义场景规则 🔧

适合在配置模板中通过 `RULE-SET` 或 `DOMAIN-SET` 引用。

---

## 常见需要替换 / 检查的项 🔍

**必改项（如模板使用占位符）**：

- 主订阅链接（如 `__SURGE_MAIN_SUB_URL__`）🔗
- 备用订阅链接（如 `__SURGE_SPARE_SUB_URL__`，可选）🔗

**可选调整**：

- `internet-test-url` 🌐
- `proxy-test-url` 🕹️
- 地区筛选正则（如 HK / TW / JP / US / SG）🏙️
- 自定义本地覆盖规则（建议放在规则前部）⚙️

---

## 配置与规则顺序的调整 ⚙️

1. **规则顺序不要一次改太多** ⚠️：  
   Surge 分流依赖规则顺序，建议每次只改一类规则并进行测试：
   - 广告 / 跟踪
   - 国内直连
   - 常用 App 分流
   - CDN / FINAL 兜底

2. **地区分组为空时先检查节点命名** 🔧：  
   如果某些地区策略组（如 HK / JP / US）没有节点，通常是节点名称与配置中的地区筛选正则不匹配。请在模板中调整对应的 `policy-regex-filter`。

---

## 结论 💡

以上是 Surge 配置的使用建议和说明。根据你的需求选择合适的配置模板，调整规则文件，并进行逐步测试。在修改时，请注意规则的顺序和节点命名的匹配。
